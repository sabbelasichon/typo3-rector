/*
 * This file is part of the TYPO3 CMS project.
 *
 * It is free software; you can redistribute it and/or modify it under
 * the terms of the GNU General Public License, either version 2
 * of the License, or any later version.
 *
 * For the full copyright and license information, please read the
 * LICENSE.txt file that was distributed with this source code.
 *
 * The TYPO3 project - inspiring people to share!
 */
class TSLexical{constructor(e,t,a,r,i,n){this.indented=e,this.column=t,this.type=a,this.prev=i,this.info=n,null!=r&&(this.align=r)}}function expressionAllowed(e,t){return/^(?:operator|sof|keyword c|case|new|export|default|[\[{}\(,;:]|=>)$/.test(t.lastType)}export class TypoScriptStreamParserFactory{create(){const e=/[\w$\xa1-\uffff]/,t={name:"typoscript",localVars:void 0,doubleIndentSwitch:!1},a=function(){function e(e){return{type:e,style:"keyword"}}const t=e("keyword a"),a=e("keyword b");return{_CSS_DEFAULT_STYLE:e("_CSS_DEFAULT_STYLE"),_LOCAL_LANG:e("_LOCAL_LANG"),_offset:e("_offset"),absRefPrefix:e("absRefPrefix"),accessibility:e("accessibility"),ACT:a,ACTIFSUB:a,ACTIFSUBRO:e("ACTIFSUBRO"),ACTRO:a,addAttributes:e("addAttributes"),addExtUrlsAndShortCuts:e("addExtUrlsAndShortCuts"),addItems:e("addItems"),additionalHeaders:e("additionalHeaders"),additionalParams:e("additionalParams"),addQueryString:e("addQueryString"),adjustItemsH:e("adjustItemsH"),adjustSubItemsH:e("adjustSubItemsH"),admPanel:t,after:e("after"),afterImg:e("afterImg"),afterImgLink:e("afterImgLink"),afterImgTagParams:e("afterImgTagParams"),afterROImg:e("afterROImg"),afterWrap:e("afterWrap"),age:e("age"),alertPopups:e("alertPopups"),align:e("align"),all:a,allow:e("allow"),allowCaching:e("allowCaching"),allowedAttribs:e("allowedAttribs"),allowedClasses:e("allowedClasses"),allowedCols:e("allowedCols"),allowedNewTables:e("allowedNewTables"),allowTags:e("allowTags"),allStdWrap:e("allStdWrap"),allWrap:e("allWrap"),alt_print:t,alternativeSortingField:e("alternativeSortingField"),altIcons:e("altIcons"),altImgResource:e("altImgResource"),altLabels:e("altLabels"),altTarget:e("altTarget"),altText:e("altText"),altUrl:e("altUrl"),altUrl_noDefaultParams:e("altUrl_noDefaultParams"),altWrap:e("altWrap"),always:e("always"),alwaysActivePIDlist:e("alwaysActivePIDlist"),alwaysLink:e("alwaysLink"),andWhere:e("andWhere"),angle:e("angle"),antiAlias:e("antiAlias"),append:e("append"),applyTotalH:e("applyTotalH"),applyTotalW:e("applyTotalW"),archive:e("archive"),ascii:a,ATagAfterWrap:e("ATagAfterWrap"),ATagBeforeWrap:e("ATagBeforeWrap"),ATagParams:e("ATagParams"),ATagTitle:e("ATagTitle"),atLeast:a,atMost:a,attribute:e("attribute"),auth:t,autoLevels:e("autoLevels"),autonumber:e("autonumber"),backColor:e("backColor"),background:e("background"),baseURL:e("baseURL"),BE:a,be_groups:a,be_users:a,before:e("before"),beforeImg:e("beforeImg"),beforeImgLink:e("beforeImgLink"),beforeImgTagParams:e("beforeImgTagParams"),beforeROImg:e("beforeROImg"),beforeWrap:e("beforeWrap"),begin:e("begin"),bgCol:e("bgCol"),bgImg:e("bgImg"),blur:e("blur"),bm:e("bm"),bodyTag:e("bodyTag"),bodyTagAdd:e("bodyTagAdd"),bodyTagCObject:e("bodyTagCObject"),bodytext:e("bodytext"),borderCol:e("borderCol"),borderThick:e("borderThick"),bottomBackColor:e("bottomBackColor"),bottomContent:e("bottomContent"),bottomHeight:e("bottomHeight"),bottomImg:e("bottomImg"),bottomImg_mask:e("bottomImg_mask"),BOX:a,br:e("br"),browse:a,browser:t,brTag:e("brTag"),bullet:e("bullet"),bulletlist:e("bulletlist"),bullets:a,bytes:e("bytes"),cache:t,cache_clearAtMidnight:e("cache_clearAtMidnight"),cache_period:e("cache_period"),caption:e("caption"),caption_stdWrap:e("caption_stdWrap"),captionHeader:e("captionHeader"),captionSplit:e("captionSplit"),CARRAY:e("CARRAY"),CASE:e("CASE"),case:e("case"),casesensitiveComp:e("casesensitiveComp"),cellpadding:e("cellpadding"),cellspacing:e("cellspacing"),char:e("char"),charcoal:e("charcoal"),charMapConfig:e("charMapConfig"),CHECK:t,check:e("check"),class:e("class"),classesAnchor:e("classesAnchor"),classesCharacter:e("classesCharacter"),classesImage:e("classesImage"),classesParagraph:e("classesParagraph"),clear:e("clear"),clearCache:e("clearCache"),clearCache_disable:e("clearCache_disable"),clearCache_pageGrandParent:e("clearCache_pageGrandParent"),clearCache_pageSiblingChildren:e("clearCache_pageSiblingChildren"),clearCacheCmd:e("clearCacheCmd"),clearCacheLevels:e("clearCacheLevels"),clearCacheOfPages:e("clearCacheOfPages"),clickTitleMode:e("clickTitleMode"),clipboardNumberPads:e("clipboardNumberPads"),cMargins:e("cMargins"),COA:e("COA"),COA_INT:e("COA_INT"),cObj:t,COBJ_ARRAY:e("COBJ_ARRAY"),cObject:t,cObjNum:e("cObjNum"),collapse:e("collapse"),collections:e("collections"),color:e("color"),color1:e("color1"),color2:e("color2"),color3:e("color3"),color4:e("color4"),colors:e("colors"),colour:e("colour"),colPos_list:e("colPos_list"),colRelations:e("colRelations"),cols:e("cols"),colSpace:e("colSpace"),COMMENT:t,comment_auto:e("comment_auto"),commentWrap:e("commentWrap"),compX:e("compX"),compY:e("compY"),conf:e("conf"),CONFIG:e("CONFIG"),config:t,CONSTANTS:e("CONSTANTS"),constants:e("constants"),CONTENT:e("CONTENT"),content:t,contextMenu:e("contextMenu"),copy:t,copyLevels:e("copyLevels"),count_HMENU_MENUOBJ:e("count_HMENU_MENUOBJ"),count_menuItems:e("count_menuItems"),count_MENUOBJ:e("count_MENUOBJ"),create:e("create"),crop:e("crop"),csConv:e("csConv"),CType:e("CType"),CUR:a,CURIFSUB:a,CURIFSUBRO:a,current:e("current"),CURRO:a,curUid:e("curUid"),cut:t,cWidth:e("cWidth"),data:e("data"),dataArray:t,dataWrap:e("dataWrap"),date:e("date"),date_stdWrap:e("date_stdWrap"),datePrefix:e("datePrefix"),dayofmonth:t,dayofweek:t,DB:e("DB"),db_list:t,debug:e("debug"),debugData:e("debugData"),debugFunc:e("debugFunc"),debugItemConf:e("debugItemConf"),debugRenumberedObject:e("debugRenumberedObject"),default:a,defaultAlign:e("defaultAlign"),defaultCmd:e("defaultCmd"),defaultHeaderType:e("defaultHeaderType"),defaultOutput:e("defaultOutput"),defaults:e("defaults"),defaultType:e("defaultType"),delete:e("delete"),denyTags:e("denyTags"),depth:e("depth"),DESC:e("DESC"),description:a,dimensions:e("dimensions"),direction:e("direction"),directory:a,directReturn:a,disableAllHeaderCode:e("disableAllHeaderCode"),disableAltText:e("disableAltText"),disableBodyTag:e("disableBodyTag"),disabled:e("disabled"),disableDelete:e("disableDelete"),disableHideAtCopy:e("disableHideAtCopy"),disableItems:e("disableItems"),disableNoMatchingValueElement:e("disableNoMatchingValueElement"),disablePrefixComment:e("disablePrefixComment"),disablePrependAtCopy:e("disablePrependAtCopy"),disableSearchBox:e("disableSearchBox"),disableSingleTableView:e("disableSingleTableView"),displayContent:e("displayContent"),displayFieldIcons:e("displayFieldIcons"),displayIcons:e("displayIcons"),displayMessages:e("displayMessages"),displayRecord:e("displayRecord"),displayTimes:e("displayTimes"),distributeX:e("distributeX"),distributeY:e("distributeY"),div:a,DIV:e("DIV"),doctype:e("doctype"),DOCUMENT_BODY:e("DOCUMENT_BODY"),doktype:e("doktype"),doNotLinkIt:e("doNotLinkIt"),doNotShowLink:e("doNotShowLink"),doNotStripHTML:e("doNotStripHTML"),dontCheckPid:e("dontCheckPid"),dontLinkIfSubmenu:e("dontLinkIfSubmenu"),dontWrapInTable:e("dontWrapInTable"),doubleBrTag:e("doubleBrTag"),dWorkArea:e("dWorkArea"),dynCSS:t,edge:e("edge"),edit:t,edit_access:t,edit_docModuleUpload:e("edit_docModuleUpload"),EFFECT:e("EFFECT"),elements:e("elements"),else:a,email:a,emailMeAtLogin:e("emailMeAtLogin"),emailMess:e("emailMess"),emboss:e("emboss"),enable:e("enable"),encapsLines:e("encapsLines"),encapsLinesStdWrap:e("encapsLinesStdWrap"),encapsTagList:e("encapsTagList"),end:a,entryLevel:e("entryLevel"),equalH:e("equalH"),equals:a,everybody:e("everybody"),excludeDoktypes:e("excludeDoktypes"),excludeUidList:e("excludeUidList"),expAll:e("expAll"),expand:e("expand"),explode:e("explode"),ext:e("ext"),external:a,externalBlocks:e("externalBlocks"),extTarget:e("extTarget"),face:e("face"),false:a,FE:a,fe_adminLib:e("fe_adminLib"),fe_groups:a,fe_users:a,feadmin:a,field:e("field"),fieldName:e("fieldName"),fieldOrder:e("fieldOrder"),fieldRequired:e("fieldRequired"),fields:e("fields"),fieldWrap:e("fieldWrap"),file:e("file"),file1:e("file1"),file2:e("file2"),file3:e("file3"),file4:e("file4"),file5:e("file5"),FILES:e("FILES"),files:e("files"),firstLabel:e("firstLabel"),firstLabelGeneral:e("firstLabelGeneral"),fixAttrib:e("fixAttrib"),flip:e("flip"),flop:e("flop"),FLUIDTEMPLATE:e("FLUIDTEMPLATE"),folder:t,folders:e("folders"),folderTree:t,foldoutMenu:t,fontColor:e("fontColor"),fontFile:e("fontFile"),fontOffset:e("fontOffset"),fontSize:e("fontSize"),fontSizeMultiplicator:e("fontSizeMultiplicator"),forceDisplayFieldIcons:e("forceDisplayFieldIcons"),forceDisplayIcons:e("forceDisplayIcons"),forceTemplateParsing:e("forceTemplateParsing"),forceTypeValue:e("forceTypeValue"),FORM:e("FORM"),format:e("format"),function:e("function"),Functions:t,gamma:e("gamma"),gapBgCol:e("gapBgCol"),gapLineCol:e("gapLineCol"),gapLineThickness:e("gapLineThickness"),gapWidth:e("gapWidth"),get:e("get"),getBorder:e("getBorder"),getLeft:e("getLeft"),getRight:e("getRight"),GIFBUILDER:e("GIFBUILDER"),global:e("global"),globalNesting:e("globalNesting"),globalString:e("globalString"),globalVar:e("globalVar"),GP:e("GP"),gray:e("gray"),group:e("group"),groupBy:e("groupBy"),groupid:e("groupid"),header:a,header_layout:e("header_layout"),headerComment:e("headerComment"),headerData:e("headerData"),headerSpace:e("headerSpace"),headTag:e("headTag"),height:e("height"),helpText:e("helpText"),hidden:e("hidden"),hiddenFields:e("hiddenFields"),hide:e("hide"),hideButCreateMap:e("hideButCreateMap"),hidePStyleItems:e("hidePStyleItems"),hideRecords:e("hideRecords"),highColor:e("highColor"),history:e("history"),HMENU:e("HMENU"),hostname:t,hour:t,HTML:e("HTML"),html:a,HTMLparser:e("HTMLparser"),HTMLparser_tags:e("HTMLparser_tags"),htmlSpecialChars:e("htmlSpecialChars"),htmlTag_setParams:e("htmlTag_setParams"),http:e("http"),icon:e("icon"),icon_image_ext_list:e("icon_image_ext_list"),icon_link:e("icon_link"),iconCObject:e("iconCObject"),id:a,IENV:e("IENV"),if:a,ifEmpty:a,IFSUB:a,IFSUBRO:a,IMAGE:e("IMAGE"),image:a,image_frames:e("image_frames"),imageLinkWrap:e("imageLinkWrap"),imagePath:e("imagePath"),images:e("images"),imageWrapIfAny:e("imageWrapIfAny"),IMG_RESOURCE:e("IMG_RESOURCE"),imgList:t,imgMap:e("imgMap"),imgMapExtras:e("imgMapExtras"),imgMax:e("imgMax"),imgNameNotRandom:e("imgNameNotRandom"),imgNamePrefix:e("imgNamePrefix"),imgObjNum:e("imgObjNum"),imgParams:e("imgParams"),imgPath:e("imgPath"),imgResource:t,imgStart:e("imgStart"),IMGTEXT:e("IMGTEXT"),imgText:t,import:e("import"),inBranch:a,inc:e("inc"),INCLUDE_TYPOSCRIPT:e("INCLUDE_TYPOSCRIPT"),includeCSS:e("includeCSS"),includeLibrary:e("includeLibrary"),includeNotInMenu:e("includeNotInMenu"),index:e("index"),index_descrLgd:e("index_descrLgd"),index_enable:e("index_enable"),index_externals:e("index_externals"),info:t,inlineStyle2TempFile:e("inlineStyle2TempFile"),innerStdWrap:e("innerStdWrap"),innerStdWrap_all:e("innerStdWrap_all"),innerWrap:e("innerWrap"),innerWrap2:e("innerWrap2"),input:e("input"),inputLevels:e("inputLevels"),insertData:e("insertData"),intensity:e("intensity"),intTarget:e("intTarget"),intval:e("intval"),invert:e("invert"),IP:t,IProcFunc:e("IProcFunc"),isFalse:a,isGreaterThan:a,isInList:a,isLessThan:a,isPositive:a,isTrue:a,itemArrayProcFunc:e("itemArrayProcFunc"),itemH:e("itemH"),items:e("items"),itemsProcFunc:e("itemsProcFunc"),iterations:e("iterations"),join:e("join"),JSwindow:t,JSWindow:e("JSWindow"),JSwindow_params:e("JSwindow_params"),keep:e("keep"),keepEntries:e("keepEntries"),keepNonMatchedTags:e("keepNonMatchedTags"),key:e("key"),keyword3:a,LABEL:t,label:e("label"),labelStdWrap:e("labelStdWrap"),labelWrap:e("labelWrap"),lang:e("lang"),languageField:e("languageField"),layout:t,left:e("left"),leftjoin:e("leftjoin"),levels:e("levels"),leveltitle:a,leveluid:e("leveluid"),lib:t,limit:e("limit"),line:e("line"),lineColor:e("lineColor"),lineThickness:e("lineThickness"),linkPrefix:e("linkPrefix"),linkTitleToSelf:e("linkTitleToSelf"),linkVars:e("linkVars"),linkWrap:e("linkWrap"),list:a,listNum:e("listNum"),listOnlyInSingleTableView:e("listOnlyInSingleTableView"),LIT:e("LIT"),lm:e("lm"),LOAD_REGISTER:e("LOAD_REGISTER"),locale_all:e("locale_all"),localNesting:e("localNesting"),locationData:e("locationData"),login:a,loginUser:t,lowColor:e("lowColor"),lower:e("lower"),LR:e("LR"),mailform:a,mailto:e("mailto"),main:e("main"),makelinks:e("makelinks"),markerWrap:e("markerWrap"),marks:t,mask:e("mask"),max:e("max"),maxAge:e("maxAge"),maxChars:e("maxChars"),maxH:e("maxH"),maxHeight:e("maxHeight"),maxItems:e("maxItems"),maxW:e("maxW"),maxWidth:e("maxWidth"),maxWInText:e("maxWInText"),media:a,menu:a,menuHeight:e("menuHeight"),menuName:e("menuName"),menuOffset:e("menuOffset"),menuWidth:e("menuWidth"),message_preview:e("message_preview"),META:e("META"),meta:e("meta"),method:e("method"),min:e("min"),minH:e("minH"),minItems:e("minItems"),minute:t,minW:e("minW"),mod:a,mode:e("mode"),module:t,month:t,move_wizard:t,MP_defaults:e("MP_defaults"),MP_disableTypolinkClosestMPvalue:e("MP_disableTypolinkClosestMPvalue"),MP_mapRootPoints:e("MP_mapRootPoints"),MULTIMEDIA:e("MULTIMEDIA"),multimedia:a,name:e("name"),negate:a,nesting:e("nesting"),neverHideAtCopy:e("neverHideAtCopy"),new:t,NEW:a,new_wizard:t,newPageWiz:e("newPageWiz"),newRecordFromTable:e("newRecordFromTable"),newWindow:e("newWindow"),newWizards:e("newWizards"),next:e("next"),niceText:e("niceText"),nicetext:e("nicetext"),NO:a,no_cache:e("no_cache"),no_search:e("no_search"),noAttrib:e("noAttrib"),noCache:e("noCache"),noCreateRecordsLink:e("noCreateRecordsLink"),noLink:e("noLink"),noMatchingValue_label:e("noMatchingValue_label"),nonCachedSubst:e("nonCachedSubst"),none:a,nonTypoTagStdWrap:e("nonTypoTagStdWrap"),nonTypoTagUserFunc:e("nonTypoTagUserFunc"),nonWrappedTag:e("nonWrappedTag"),noOrderBy:e("noOrderBy"),noPageTitle:e("noPageTitle"),noResultObj:t,noThumbsInEB:e("noThumbsInEB"),noTrimWrap:e("noTrimWrap"),noValueInsert:e("noValueInsert"),numRows:t,obj:e("obj"),offset:e("offset"),onlineWorkspaceInfo:e("onlineWorkspaceInfo"),onlyCurrentPid:e("onlyCurrentPid"),opacity:e("opacity"),options:t,orderBy:e("orderBy"),outerWrap:e("outerWrap"),outline:e("outline"),outputLevels:e("outputLevels"),override:e("override"),overrideAttribs:e("overrideAttribs"),overrideId:e("overrideId"),overridePageModule:e("overridePageModule"),PAGE:e("PAGE"),page:t,PAGE_TARGET:e("PAGE_TARGET"),PAGE_TSCONFIG_ID:e("PAGE_TSCONFIG_ID"),PAGE_TSCONFIG_IDLIST:e("PAGE_TSCONFIG_IDLIST"),PAGE_TSCONFIG_STR:e("PAGE_TSCONFIG_STR"),pageFrameObj:e("pageFrameObj"),pages:a,pageTitleFirst:e("pageTitleFirst"),pageTree:t,parameter:e("parameter"),params:e("params"),parseFunc:e("parseFunc"),parseFunc_RTE:a,parser:e("parser"),password:e("password"),paste:t,path:e("path"),permissions:e("permissions"),perms:t,pid:a,pid_list:e("pid_list"),pidInList:e("pidInList"),PIDinRootline:t,PIDupinRootline:t,pixelSpaceFontSizeRef:e("pixelSpaceFontSizeRef"),plaintextLib:e("plaintextLib"),plainTextStdWrap:e("plainTextStdWrap"),plugin:t,postCObject:e("postCObject"),postLineBlanks:e("postLineBlanks"),postLineChar:e("postLineChar"),postLineLen:e("postLineLen"),postUserFunc:e("postUserFunc"),postUserFuncInt:e("postUserFuncInt"),preBlanks:e("preBlanks"),preCObject:e("preCObject"),prefix:e("prefix"),prefixComment:e("prefixComment"),prefixRelPathWith:e("prefixRelPathWith"),preIfEmptyListNum:e("preIfEmptyListNum"),preLineBlanks:e("preLineBlanks"),preLineChar:e("preLineChar"),preLineLen:e("preLineLen"),prepend:e("prepend"),preserveEntities:e("preserveEntities"),preUserFunc:e("preUserFunc"),prev:e("prev"),preview:t,previewBorder:e("previewBorder"),prevnextToSection:e("prevnextToSection"),prioriCalc:e("prioriCalc"),proc:e("proc"),processor_allowUpscaling:e("processor_allowUpscaling"),properties:e("properties"),protect:e("protect"),protectLvar:e("protectLvar"),publish:t,publish_levels:e("publish_levels"),quality:e("quality"),RADIO:t,radio:e("radio"),radioWrap:e("radioWrap"),range:e("range"),rawUrlEncode:e("rawUrlEncode"),recipient:e("recipient"),RECORDS:e("RECORDS"),recursive:e("recursive"),redirect:e("redirect"),redirectToURL:e("redirectToURL"),reduceColors:e("reduceColors"),references:e("references"),register:e("register"),relPathPrefix:e("relPathPrefix"),remap:e("remap"),remapTag:e("remapTag"),REMOTE_ADDR:e("REMOTE_ADDR"),removeDefaultJS:e("removeDefaultJS"),removeIfEquals:e("removeIfEquals"),removeIfFalse:e("removeIfFalse"),removeItems:e("removeItems"),removeObjectsOfDummy:e("removeObjectsOfDummy"),removePrependedNumbers:e("removePrependedNumbers"),removeTags:e("removeTags"),removeWrapping:e("removeWrapping"),renderObj:t,renderWrap:e("renderWrap"),REQ:t,required:a,reset:e("reset"),resources:e("resources"),RESTORE_REGISTER:e("RESTORE_REGISTER"),resultObj:e("resultObj"),returnLast:e("returnLast"),returnUrl:e("returnUrl"),rightjoin:e("rightjoin"),rm:e("rm"),rmTagIfNoAttrib:e("rmTagIfNoAttrib"),RO:a,rootline:a,rotate:e("rotate"),rows:e("rows"),rowSpace:e("rowSpace"),RTE:t,RTE_compliant:t,rules:e("rules"),sample:e("sample"),saveClipboard:e("saveClipboard"),saveDocNew:e("saveDocNew"),script:a,search:a,SEARCHRESULT:e("SEARCHRESULT"),secondRow:e("secondRow"),section:e("section"),sectionIndex:e("sectionIndex"),select:t,selectFields:e("selectFields"),separator:e("separator"),set:e("set"),setContentToCurrent:e("setContentToCurrent"),setCurrent:e("setCurrent"),setfixed:e("setfixed"),setOnly:e("setOnly"),setup:t,shadow:e("shadow"),SHARED:e("SHARED"),sharpen:e("sharpen"),shear:e("shear"),short:e("short"),shortcut:a,shortcutFrame:e("shortcutFrame"),shortcutIcon:e("shortcutIcon"),show:e("show"),showAccessRestrictedPages:e("showAccessRestrictedPages"),showActive:e("showActive"),showFirst:e("showFirst"),showHiddenPages:e("showHiddenPages"),showHiddenRecords:e("showHiddenRecords"),showHistory:e("showHistory"),showPageIdWithTitle:e("showPageIdWithTitle"),showTagFreeClasses:e("showTagFreeClasses"),showWebsiteTitle:e("showWebsiteTitle"),simulateDate:e("simulateDate"),simulateUserGroup:e("simulateUserGroup"),singlePid:e("singlePid"),site_author:e("site_author"),site_reserved:e("site_reserved"),sitemap:a,siteUrl:e("siteUrl"),size:e("size"),solarize:e("solarize"),sorting:e("sorting"),source:e("source"),space:e("space"),spaceBelowAbove:e("spaceBelowAbove"),spaceLeft:e("spaceLeft"),spaceRight:e("spaceRight"),spacing:e("spacing"),spamProtectEmailAddresses:e("spamProtectEmailAddresses"),spamProtectEmailAddresses_atSubst:e("spamProtectEmailAddresses_atSubst"),spamProtectEmailAddresses_lastDotSubst:e("spamProtectEmailAddresses_lastDotSubst"),SPC:a,special:e("special"),split:t,splitChar:e("splitChar"),splitRendering:e("splitRendering"),src:e("src"),stdWrap:t,stdWrap2:e("stdWrap2"),strftime:e("strftime"),stripHtml:e("stripHtml"),styles:e("styles"),submenuObjSuffixes:e("submenuObjSuffixes"),subMenuOffset:e("subMenuOffset"),submit:e("submit"),subparts:t,subst_elementUid:e("subst_elementUid"),substMarksSeparately:e("substMarksSeparately"),substring:e("substring"),swirl:e("swirl"),sys_dmail:a,sys_filemounts:a,sys_note:a,sys_template:a,system:t,table:a,tableCellColor:e("tableCellColor"),tableParams:e("tableParams"),tables:e("tables"),tableStdWrap:e("tableStdWrap"),tableWidth:e("tableWidth"),tags:e("tags"),target:e("target"),TCAdefaults:e("TCAdefaults"),TCEFORM:e("TCEFORM"),TCEMAIN:e("TCEMAIN"),TDparams:e("TDparams"),temp:t,template:t,templateContent:e("templateContent"),templateFile:e("templateFile"),TEXT:e("TEXT"),text:a,textarea:e("textarea"),textMargin:e("textMargin"),textMargin_outOfText:e("textMargin_outOfText"),textMaxLength:e("textMaxLength"),textObjNum:e("textObjNum"),textpic:a,textPos:e("textPos"),thickness:e("thickness"),this:a,tile:e("tile"),time_stdWrap:e("time_stdWrap"),tipafriendLib:e("tipafriendLib"),title:e("title"),titleLen:e("titleLen"),titleText:e("titleText"),tm:e("tm"),TMENU:e("TMENU"),TMENUITEM:e("TMENUITEM"),token:e("token"),top:a,totalWidth:e("totalWidth"),transparentBackground:e("transparentBackground"),transparentColor:e("transparentColor"),treeLevel:t,trim:e("trim"),true:a,tsdebug:t,tsdebug_tree:e("tsdebug_tree"),TSFE:e("TSFE"),type:e("type"),typeNum:e("typeNum"),types:e("types"),typolink:t,uid:a,uidInList:e("uidInList"),uniqueGlobal:a,uniqueLocal:a,unset:e("unset"),unsetEmpty:a,updated:a,uploads:a,upper:e("upper"),url:t,us:a,useLargestItemX:e("useLargestItemX"),useLargestItemY:e("useLargestItemY"),USER:e("USER"),user:e("user"),USER_INT:e("USER_INT"),user_task:a,useragent:t,USERDEF1:a,USERDEF1RO:a,USERDEF2:a,USERDEF2RO:a,userdefined:e("userdefined"),userFunc:t,userfunction:e("userfunction"),usergroup:a,userid:e("userid"),userProc:e("userProc"),USR:a,USRRO:a,value:e("value"),valueArray:e("valueArray"),version:t,view:t,wave:e("wave"),web_func:a,web_info:a,web_layout:a,web_list:a,web_ts:e("web_ts"),where:e("where"),width:e("width"),wiz:e("wiz"),wordSpacing:e("wordSpacing"),workArea:e("workArea"),workOnSubpart:t,wrap:e("wrap"),wrap1:e("wrap1"),wrap2:e("wrap2"),wrap3:e("wrap3"),wrapAfterTags:e("wrapAfterTags"),wrapAlign:e("wrapAlign"),wrapFieldName:e("wrapFieldName"),wrapItemAndSub:e("wrapItemAndSub"),wrapNonWrappedLines:e("wrapNonWrappedLines"),wraps:e("wraps"),xhtml_cleaning:e("xhtml_cleaning"),xhtml_strict:a,xhtml_trans:a,xmlprologue:e("xmlprologue"),XY:a}}(),r=/[\+\-\*\&\%\/=<>!\?]/;let i,n,o=!1;function s(e,t,a){return i=e,n=a,t}function l(t,i){const n=t.next();if("string"==typeof n){if("\n"===n&&(o=!1),"."===n&&t.match(/^\d+(?:[eE][+\-]?\d+)?/))return s("number","number");if("."===n&&t.match(".."))return s("spread","meta");if(n&&/[\[\]{}\(\),;\:\.]/.test(n))return s(n);if("<"===n||">"===n||"."===n||"="===n&&"<"!==t.peek())return o=!0,s(n,"operator");if(!o&&n&&/[\[\]\(\),;\:\.\<\>\=]/.test(n))return s(n,"operator");if("0"===n&&t.eat(/x/i))return t.eatWhile(/[\da-f]/i),s("number","number");if("0"===n&&t.eat(/o/i))return t.eatWhile(/[0-7]/i),s("number","number");if("0"===n&&t.eat(/b/i))return t.eatWhile(/[01]/i),s("number","number");if(n&&/\d/.test(n))return t.match(/^\d*(?:\.\d+)?(?:[eE][+\-]?\d+)?/),s("number","number");if("/"===n)return t.eat("*")?(i.tokenize=d,d(t,i)):t.eat("/")?(t.skipToEnd(),s("comment","comment")):expressionAllowed(t,i)?(function(e){let t,a=!1,r=!1;for(;void 0!==(t=e.next());){if(!a){if("/"===t&&!r)return;"["===t?r=!0:r&&"]"===t&&(r=!1)}a=!a&&"\\"===t}}(t),t.match(/^\b(([gimyu])(?![gimyu]*\2))+\b/),s("regexp","string-2")):(t.eatWhile(r),s("operator","operator",t.current()));if("#"===n)return t.skipToEnd(),s("comment","comment");if(r.test(n))return">"===n&&i.lexical&&">"===i.lexical.type||t.eatWhile(r),s("operator","operator",t.current());if(e.test(n)){t.eatWhile(e);const r=t.current();if(a.propertyIsEnumerable(r)){const e=a[r];return s(e.type,e.style,r)}return o?s("string","string",r):s("variable","other",r)}}}function d(e,t){let a,r=!1;for(;void 0!==(a=e.next());){if("/"===a&&r){t.tokenize=l;break}r="*"===a}return s("comment","comment")}const c={atom:!0,number:!0,variable:!0,string:!0,regexp:!0};function p(e,t){for(let a=e.localVars;a;a=a.next)if(a.name==t)return!0;for(let a=e.context;a;a=a.prev)for(let e=a.vars;e;e=e.next)if(e.name==t)return!0}const u={state:null,column:null,marked:null,cc:null};function m(...e){for(let t=e.length-1;t>=0;t--)u.cc.push(e[t])}function g(...e){return m(...e),!0}function f(e){const t=u.state;if(u.marked="def",t.context){if(function(t){for(let a=t;a;a=a.next)if(a.name==e)return!0;return!1}(t.localVars))return;t.localVars={name:e,next:t.localVars}}}function b(e,t){const a=function(){const a=u.state;let r=a.indented;if("stat"===a.lexical.type)r=a.lexical.indented;else for(let e=a.lexical;e&&")"===e.type&&e.align;e=e.prev)r=e.indented;a.lexical=new TSLexical(r,u.stream.column(),e,null,a.lexical,t)};return a.lex=!0,a}function h(){const e=u.state;e.lexical.prev&&(")"===e.lexical.type&&(e.indented=e.lexical.indented),e.lexical=e.lexical.prev)}function T(e){return function t(a){return a==e?g():";"===e?m():g(t)}}function y(e,t){return"keyword a"===e?g(b("form"),I,y,h):"keyword b"===e?g(b("form"),y,h):"{"===e?g(b("}"),W,h):";"===e?g():"variable"===e?g(b("stat"),A):"import"===e?g(b("stat"),O,h):"@"===t?g(C,y):m(b("stat"),C,T(";"),h)}function C(e){return S(e,!1)}function x(e){return S(e,!0)}function I(e){return"("!==e?m():g(b(")"),C,T(")"),h)}function S(e,t){const a=t?E:L;return c.hasOwnProperty(e)?g(a):"keyword c"===e?g(t?_:w):"("===e?g(b(")"),w,T(")"),h,a):"operator"===e?g(t?x:C):"{"===e?v(R,"}",null,a):g()}function w(e){return e.match(/[;\}\)\],]/)?m():m(C)}function _(e){return e.match(/[;\}\)\],]/)?m():m(x)}function L(e,t){return","===e?g(C):E(e,t,!1)}function E(e,t,a){const r=0==a?L:E,i=0==a?C:x;return"operator"===e?/\+\+|--/.test(t)?g(r):"?"===t?g(C,T(":"),i):g(i):";"!==e?"("===e?v(x,")","call",r):"."===e?g(k,r):"["===e?g(b("]"),w,T("]"),h,r):void 0:void 0}function A(e){return":"===e?g(h,y):m(L,T(";"),h)}function k(e){if("variable"===e)return u.marked="property",g()}function R(e){return"async"===e?(u.marked="property",g(R)):"variable"===e||"keyword"===u.style?(u.marked="property",g(P)):"number"===e||"string"===e?(u.marked=u.style+" property",g(P)):"modifier"===e?g(R):":"===e?m(P):void 0}function P(e){if(":"===e)return g(x)}function v(e,t,a,...r){for(const e of r)u.cc.push(e);return g(b(t,a),function(e,t,a){function r(i,n){if(a?a.indexOf(i)>-1:","===i){const a=u.state.lexical;return"call"===a.info&&(a.pos=(a.pos||0)+1),g((function(a,r){return a==t||r==t?m():m(e)}),r)}return i==t||n==t?g():g(T(t))}return function(a,i){return a==t||i==t?g():m(e,r)}}(e,t),h)}function W(e){return"}"===e?g():m(y,W)}function O(e){return"string"===e?g():m(M,F,U)}function M(e,t){return"{"===e?v(M,"}"):("variable"===e&&f(t),"*"===t&&(u.marked="keyword"),g(N))}function F(e){if(","===e)return g(M,F)}function N(e,t){if("as"===t)return u.marked="keyword",g(M)}function U(e,t){if("from"===t)return u.marked="keyword",g(C)}h.lex=!0;return new class{constructor(){this.electricInput=/^\s*(?:case .*?:|default:|\{|\})$/,this.blockCommentStart="/*",this.blockCommentEnd="*/",this.lineComment="#",this.fold="brace",this.closeBrackets="(){}''\"\"`",this.helperType="typoscript",this.name="TypoScript"}startState(e){return{tokenize:l,lastType:"sof",cc:[],lexical:new TSLexical(-e,0,"block",!1),localVars:t.localVars,context:t.localVars&&{vars:t.localVars},indented:0}}token(e,t){if(e.sol()&&(t.lexical.hasOwnProperty("align")||(t.lexical.align=!1),t.indented=e.indentation()),t.tokenize!=d&&e.eatSpace())return null;const a=t.tokenize(e,t);return"comment"===i?a:(t.lastType="operator"!==i||"++"!==n&&"--"!==n?i:"incdec",function(e,t,a,r,i){const n=e.cc;for(u.state=e,u.stream=i,u.marked=null,u.cc=n,u.style=t,e.lexical.hasOwnProperty("align")||(e.lexical.align=!0);;){const i=n.length?n.pop():y;if("function"==typeof i&&i(a,r)){for(;n.length&&n[n.length-1]&&n[n.length-1].lex;)n.pop()();return u.marked?u.marked:"variable"===a&&p(e,r)?"variable-2":t}}}(t,a,i,n,e))}indent(e,a,i){if(e.tokenize==d)return null;if(e.tokenize!=l)return 0;const n=a&&a.charAt(0);let o,s=e.lexical;for(;("stat"===s.type||"form"===s.type)&&("}"===n||(o=e.cc[e.cc.length-1])&&(o==L||o==E)&&!/^[,\.=+\-*:?[\(]/.test(a));)s=s.prev;const c=s.type,p=n==c;return"form"===c&&"{"===n?s.indented:"form"===c?s.indented+i.unit:"stat"===c?s.indented+(function(e,t){return"operator"===e.lastType||","===e.lastType||r.test(t.charAt(0))||/[,.]/.test(t.charAt(0))}(e,a)?i.unit:0):"switch"!==s.info||p||0==t.doubleIndentSwitch?s.align?s.column+(p?0:1):s.indented+(p?0:i.unit):s.indented+(/^(?:case|default)\b/.test(a)?i.unit:2*i.unit)}expressionAllowed(e,t){return expressionAllowed(e,t)}}}}